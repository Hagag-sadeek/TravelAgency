@model TravelAgency.ViewModels.ReservedTicketsReport

@{  
    ViewData["Title"] = "حجز التذاكر";
   
}
    <form asp-action="Create">
       
      <div class="row">
        <div class="form-group col-sm-4">
          <label asp-for="AppointmentId" class="control-label">الميعاد</label>
          <select asp-for="AppointmentId" class="form-control" asp-items="Model.AppointmentsList"></select>
        </div>

        <div class="form-group col-sm-3">
          <label asp-for="TicketDate" class="control-label">يوم الحجز</label>
          <input asp-for="TicketDate" class="form-control" /> 
        </div> 
      </div>
        @*<div class="form-group  col-md-2">
          <label asp-for="CustomerId" class="control-label">العميل  </label>
          <select asp-for="CustomerId" class="form-control select2" asp-items="Model.CustomersList" style="width:100%"></select>
        </div>

        <div class="form-group  col-md-2">
          <label asp-for="SupplierId" class="control-label">المورد  </label>
          <select asp-for="SupplierId" class="form-control select2" asp-items="Model.SuppliersList" style="width:100%"></select>
        </div>
      
          <div class="form-group  col-md-3">
            <label asp-for="FromBranchId" class="control-label">مكتب المغادره</label>
            <select asp-for="FromBranchId" class="form-control" asp-items="Model.BranchsList"></select>
          </div>


          <div class="form-group col-md-3">
            <label asp-for="ToBranchId" class="control-label">مكتب الوصول</label>
            <select asp-for="ToBranchId" class="form-control" asp-items="Model.BranchsList"></select>
          </div>*@
      
     
        <div class="form-group row col-12"> 
            <input type="submit" value="عرض التقرير"   asp-action="create" class="btn btn-primary" /> 
        </div> 
    </form>

<div class="row">
   
  <table class="table table-striped table-bordered table-hover" id="table">
    <thead>
    <tr> 
      <th>
       المكتب
      </th>
      <th>
        عدد التذاكر
      </th> 
      <th>
        اجمالى 
      </th> 
      <th>
        الصافي
      </th> 
      
    </tr>
    </thead>
    <tbody>
    @foreach (var item in Model.ReservedTicketsDetailsReport)
    {
      <tr> 
        <td>
          @Html.DisplayFor(modelItem => item.SupplierName)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.TicketCount)
        </td>
        <td>
          @Html.DisplayFor(modelItem => item.TotalIncome)
        </td>

        <td>
          @Html.DisplayFor(modelItem => item.NetIncome)
        </td> 
      </tr>
    }
    <tr> 
      <td>
        الاجمالى
      </td>
      <td>
        @Model.ReservedTicketsDetailsReport.Sum(x=>x.TicketCount)
      </td>
      <td>
        @Model.ReservedTicketsDetailsReport.Sum(x=>x.TotalIncome)
      </td>

      <td>
        @Model.ReservedTicketsDetailsReport.Sum(x=>x.NetIncome)
      </td> 
    </tr>
    </tbody>
  </table>
</div>

@section Scripts
{

  <script type="text/javascript">

    $(document).ready(function () {
      //$('#table').DataTable(

      //);
    });
  </script>

}

 